# mysql索引(2)：索引原理



### 聚簇索引和非聚簇索引

聚簇索引和非聚簇索引是根据作为B+Tree的子节点中是否存在数据来判断的，存在数据，那么作为索引的key值和行数据聚集在一起，因此被称为聚簇索引，否则成为非聚簇索引。

**InnoDB中，表数据文件本身就是按B+Tree组织的一个索引结构，聚簇索引就是按照每张表的主键构造一颗B+树，同时叶子节点中存放的就是整张表的行记录数据，也将聚集索引的叶子节点称为数据页。这个特性决定了索引组织表中数据也是索引的一部分；**

MyISAM索引文件和数据文件是分离的，索引文件仅保存数据记录的地址。MyISAM引擎使用B+Tree作为索引结构，叶节点的**data域存放的是数据记录的地址**。

**MyISM使用的是非聚簇索引**，非聚簇索引的两棵B+树看上去没什么不同，节点的结构完全一致只是存储的内容不同而已，主键索引B+树的节点存储了主键，辅助键索引B+树存储了辅助键。表数据存储在独立的地方，这两颗B+树的叶子节点都使用一个地址指向真正的表数据，对于表数据来说，这两个键没有任何差别。由于索引树是独立的，通过辅助键检索无需访问主键的索引树。

## 参考内容

【1】[以B tree和B+ tree的区别来分析mysql索引实现](https://www.jianshu.com/p/0371c9569736)

【2】Java开发手册（嵩山版）

【3】[这篇 MySQL 索引和 B+Tree 讲得太通俗易懂](https://zhuanlan.zhihu.com/p/293128007)

【4】[B+树索引结构解析](https://www.cnblogs.com/hyunbar/p/11185095.html)

【5】[联合索引在B+树上的存储结构及数据查找方式](https://www.cnblogs.com/ibigboy/p/12373978.html)

【6】[聚簇索引和非聚簇索引(通俗易懂 言简意赅)](https://www.cnblogs.com/jiawen010/p/11805241.html)

